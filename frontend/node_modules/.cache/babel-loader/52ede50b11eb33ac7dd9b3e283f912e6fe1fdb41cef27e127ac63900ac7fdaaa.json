{"ast":null,"code":"var _jsxFileName = \"D:\\\\projects_folder\\\\splitwise\\\\frontend\\\\src\\\\pages\\\\ReportsPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport api from '../utils/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ReportsPage = ({\n  user\n}) => {\n  _s();\n  const {\n    groupId\n  } = useParams();\n  const [report, setReport] = useState(null);\n  const [expenses, setExpenses] = useState([]);\n  const [showAddExpense, setShowAddExpense] = useState(false);\n  const [showAddMemberModal, setShowAddMemberModal] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [newExpense, setNewExpense] = useState({\n    description: '',\n    amount: '',\n    splitType: 'equal'\n  });\n  const [customPercentages, setCustomPercentages] = useState({});\n  const [newMemberEmails, setNewMemberEmails] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [addExpenseLoading, setAddExpenseLoading] = useState(false);\n  const [addMemberLoading, setAddMemberLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [downloading, setDownloading] = useState(false);\n  const [activeTab, setActiveTab] = useState('settlements');\n  useEffect(() => {\n    fetchReportData();\n  }, [groupId]);\n  const fetchReportData = async () => {\n    try {\n      setError('');\n      setLoading(true);\n      const [reportResponse, expensesResponse, membersResponse] = await Promise.all([api.get(`/expenses/report/${groupId}`), api.get(`/expenses/group/${groupId}`), api.get(`/groups/${groupId}/members`).catch(error => {\n        console.warn('Group members API failed, using report members:', error);\n        return {\n          data: {\n            members: []\n          }\n        };\n      })]);\n      setReport(reportResponse.data);\n      const filteredExpenses = (expensesResponse.data || []).map(expense => {\n        var _expense$splits;\n        return {\n          ...expense,\n          splits: ((_expense$splits = expense.splits) === null || _expense$splits === void 0 ? void 0 : _expense$splits.filter(split => split.user && expense.paidBy && !compareIds(split.user._id, expense.paidBy._id))) || []\n        };\n      });\n      setExpenses(filteredExpenses);\n    } catch (error) {\n      var _error$response, _error$response$data, _error$response2, _error$response2$data;\n      console.error('Unexpected error in fetchReportData:', error);\n      const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || error.message || 'Failed to load report data. Please check your connection and try again.';\n      setError(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const downloadReport = async () => {\n    try {\n      setDownloading(true);\n      setError('');\n      const reportContent = generateReportContent();\n      const blob = new Blob([reportContent], {\n        type: 'text/plain'\n      });\n      const url = URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `expense-report-group-${groupId}-${new Date().toISOString().split('T')[0]}.txt`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      URL.revokeObjectURL(url);\n      setSuccess('Report downloaded successfully!');\n      setTimeout(() => setSuccess(''), 3000);\n    } catch (error) {\n      console.error('Error downloading report:', error);\n      setError('Failed to download report. Please try again.');\n    } finally {\n      setDownloading(false);\n    }\n  };\n  const generateReportContent = () => {\n    const members = getMembers();\n    const groupName = (report === null || report === void 0 ? void 0 : report.groupName) || `Group ${groupId}`;\n    const currentDate = new Date().toLocaleDateString();\n    let content = `EXPENSE REPORT\\n`;\n    content += `===============\\n\\n`;\n    content += `Group: ${groupName}\\n`;\n    content += `Report Date: ${currentDate}\\n`;\n    content += `Total Members: ${members.length}\\n`;\n    content += `Total Expenses: ${expenses.length}\\n\\n`;\n\n    // Group Members Section\n    content += `GROUP MEMBERS:\\n`;\n    content += `--------------\\n`;\n    members.forEach((member, index) => {\n      const isYou = compareIds(member._id, user.id) ? ' (You)' : '';\n      content += `${index + 1}. ${member.name}${isYou} - ${member.email}\\n`;\n    });\n    content += `\\n`;\n\n    // Settlement Summary Section\n    content += `SETTLEMENT SUMMARY:\\n`;\n    content += `------------------\\n`;\n    if (report && report.settlements && report.settlements.length > 0) {\n      report.settlements.forEach((settlement, index) => {\n        var _settlement$from, _settlement$to, _settlement$amount;\n        const fromName = ((_settlement$from = settlement.from) === null || _settlement$from === void 0 ? void 0 : _settlement$from.name) || 'Unknown User';\n        const toName = ((_settlement$to = settlement.to) === null || _settlement$to === void 0 ? void 0 : _settlement$to.name) || 'Unknown User';\n        const amount = ((_settlement$amount = settlement.amount) === null || _settlement$amount === void 0 ? void 0 : _settlement$amount.toFixed(2)) || '0.00';\n        content += `${index + 1}. ${fromName} â†’ ${toName}: â‚¹${amount}\\n`;\n      });\n    } else {\n      content += `All expenses are settled! ðŸŽ‰\\n`;\n    }\n    content += `\\n`;\n\n    // Detailed Expenses Section\n    content += `DETAILED EXPENSES:\\n`;\n    content += `------------------\\n`;\n    if (expenses.length > 0) {\n      expenses.forEach((expense, expenseIndex) => {\n        var _expense$paidBy, _expense$paidBy2;\n        const paidByName = ((_expense$paidBy = expense.paidBy) === null || _expense$paidBy === void 0 ? void 0 : _expense$paidBy.name) || 'Unknown User';\n        const validSplits = getValidSplits(expense);\n        content += `\\nExpense ${expenseIndex + 1}:\\n`;\n        content += `  Description: ${expense.description}\\n`;\n        content += `  Amount: â‚¹${expense.amount}\\n`;\n        content += `  Paid By: ${paidByName}${compareIds((_expense$paidBy2 = expense.paidBy) === null || _expense$paidBy2 === void 0 ? void 0 : _expense$paidBy2._id, user.id) ? ' (You)' : ''}\\n`;\n        content += `  Split Type: ${expense.splitType}\\n`;\n        content += `  Date: ${new Date(expense.createdAt).toLocaleDateString()}\\n`;\n        if (validSplits.length > 0) {\n          content += `  Splits:\\n`;\n          validSplits.forEach((split, splitIndex) => {\n            var _split$user, _split$user2, _split$amount;\n            const userName = ((_split$user = split.user) === null || _split$user === void 0 ? void 0 : _split$user.name) || 'Unknown User';\n            const status = split.paid ? 'âœ… Paid' : 'âŒ Not Paid';\n            const percentageInfo = expense.splitType === 'custom' && split.percentage ? ` (${split.percentage}%)` : '';\n            content += `    ${splitIndex + 1}. ${userName}${compareIds((_split$user2 = split.user) === null || _split$user2 === void 0 ? void 0 : _split$user2._id, user.id) ? ' (You)' : ''}: â‚¹${((_split$amount = split.amount) === null || _split$amount === void 0 ? void 0 : _split$amount.toFixed(2)) || '0.00'}${percentageInfo} - ${status}\\n`;\n          });\n        } else {\n          content += `  Splits: No splits (payer only expense)\\n`;\n        }\n      });\n    } else {\n      content += `No expenses recorded.\\n`;\n    }\n\n    // Financial Summary Section\n    content += `\\nFINANCIAL SUMMARY:\\n`;\n    content += `-----------------\\n`;\n    const totalAmount = expenses.reduce((sum, expense) => sum + (parseFloat(expense.amount) || 0), 0);\n    content += `Total Amount Spent: â‚¹${totalAmount.toFixed(2)}\\n`;\n    if (members.length > 0) {\n      content += `Average per Member: â‚¹${(totalAmount / members.length).toFixed(2)}\\n`;\n    }\n    content += `\\n\\n---\\n`;\n    content += `Generated by Expense Tracker App\\n`;\n    content += `Report ID: ${groupId}-${Date.now()}`;\n    return content;\n  };\n  const getMembers = () => {\n    return report && report.members ? report.members : [];\n  };\n  const isGroupCreator = () => {\n    const members = getMembers();\n    return members.some(member => compareIds(member._id, user.id));\n  };\n  const handleAddExpense = async e => {\n    e.preventDefault();\n    if (!newExpense.description.trim()) {\n      setError('Please enter a description');\n      return;\n    }\n    if (!newExpense.amount || parseFloat(newExpense.amount) <= 0) {\n      setError('Please enter a valid amount');\n      return;\n    }\n    const members = getMembers();\n    if (members.length === 0) {\n      setError('No members found in this group. Please add members first.');\n      return;\n    }\n    if (newExpense.splitType === 'custom' && !validateCustomPercentages()) {\n      setError('Custom percentages must total exactly 100%');\n      return;\n    }\n    setAddExpenseLoading(true);\n    setError('');\n    try {\n      const expenseData = {\n        description: newExpense.description.trim(),\n        amount: parseFloat(newExpense.amount),\n        groupId: groupId,\n        splitType: newExpense.splitType,\n        paidBy: user._id || user.id\n      };\n      if (newExpense.splitType === 'custom') {\n        const calculatedSplits = Object.entries(customPercentages).filter(([userId, percentage]) => percentage && parseFloat(percentage) > 0).map(([userId, percentage]) => {\n          const amount = parseFloat(newExpense.amount) * parseFloat(percentage) / 100;\n          return {\n            user: userId,\n            percentage: parseFloat(percentage),\n            amount: amount\n          };\n        });\n        expenseData.splits = calculatedSplits;\n      }\n      await api.post('/expenses', expenseData);\n      setNewExpense({\n        description: '',\n        amount: '',\n        splitType: 'equal'\n      });\n      setCustomPercentages({});\n      setShowAddExpense(false);\n      await fetchReportData();\n      setSuccess('Expense added successfully!');\n      setTimeout(() => setSuccess(''), 3000);\n    } catch (error) {\n      var _error$response3, _error$response3$data, _error$response4, _error$response4$data;\n      console.error('Error adding expense:', error);\n      const errorMessage = ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.error) || 'Failed to add expense. Please try again.';\n      setError(errorMessage);\n    } finally {\n      setAddExpenseLoading(false);\n    }\n  };\n  const handleSplitTypeChange = splitType => {\n    setNewExpense({\n      ...newExpense,\n      splitType\n    });\n    if (splitType === 'custom') {\n      const members = getMembers();\n      if (members && members.length > 0) {\n        const equalPercentage = (100 / members.length).toFixed(2);\n        const newPercentages = {};\n        members.forEach(member => {\n          newPercentages[member._id] = equalPercentage;\n        });\n        setCustomPercentages(newPercentages);\n      }\n    }\n  };\n  const handleCustomPercentageChange = (userId, value) => {\n    if (value === '' || /^\\d*\\.?\\d*$/.test(value)) {\n      const numValue = parseFloat(value);\n      if (value === '' || numValue >= 0 && numValue <= 100) {\n        setCustomPercentages(prev => ({\n          ...prev,\n          [userId]: value\n        }));\n      }\n    }\n  };\n  const handleEqualSplit = () => {\n    const members = getMembers();\n    if (!members || members.length === 0) return;\n    const equalPercentage = (100 / members.length).toFixed(2);\n    const newPercentages = {};\n    members.forEach(member => {\n      newPercentages[member._id] = equalPercentage;\n    });\n    setCustomPercentages(newPercentages);\n  };\n  const handleClearPercentages = () => {\n    setCustomPercentages({});\n  };\n  const validateCustomPercentages = () => {\n    const members = getMembers();\n    if (!members || members.length === 0) return false;\n    const percentages = Object.values(customPercentages);\n    if (percentages.length === 0) return false;\n    const validPercentages = percentages.every(percentage => {\n      const num = parseFloat(percentage);\n      return !isNaN(num) && num >= 0 && num <= 100;\n    });\n    if (!validPercentages) return false;\n    const totalPercentage = percentages.reduce((sum, percentage) => {\n      return sum + (parseFloat(percentage) || 0);\n    }, 0);\n    return Math.abs(totalPercentage - 100) < 0.1;\n  };\n  const getTotalPercentage = () => {\n    return Object.values(customPercentages).reduce((sum, percentage) => {\n      return sum + (parseFloat(percentage) || 0);\n    }, 0);\n  };\n  const getRemainingPercentage = () => {\n    return (100 - getTotalPercentage()).toFixed(2);\n  };\n  const calculateMemberAmount = percentage => {\n    if (!percentage || !newExpense.amount) return 0;\n    return parseFloat(newExpense.amount) * parseFloat(percentage) / 100;\n  };\n  const compareIds = (id1, id2) => {\n    if (!id1 || !id2) return false;\n    return id1.toString() === id2.toString();\n  };\n  const isCurrentUserDebtor = settlement => {\n    var _settlement$from2;\n    return compareIds((_settlement$from2 = settlement.from) === null || _settlement$from2 === void 0 ? void 0 : _settlement$from2._id, user.id);\n  };\n  const shouldShowMarkPaid = (expense, split) => {\n    return !split.paid && split.user && compareIds(split.user._id, user.id) && expense.paidBy && !compareIds(expense.paidBy._id, user.id) && !compareIds(expense.paidBy._id, split.user._id);\n  };\n  const getValidSplits = expense => {\n    var _expense$splits2;\n    return ((_expense$splits2 = expense.splits) === null || _expense$splits2 === void 0 ? void 0 : _expense$splits2.filter(split => split.user && expense.paidBy && !compareIds(split.user._id, expense.paidBy._id))) || [];\n  };\n  const handleSearchUsers = async query => {\n    if (query.trim().length < 3) {\n      setSearchResults([]);\n      return;\n    }\n    try {\n      const response = await api.get(`/users/search?q=${encodeURIComponent(query)}`);\n      setSearchResults(response.data || []);\n    } catch (error) {\n      console.error('Error searching users:', error);\n      setSearchResults([]);\n    }\n  };\n  const addMemberEmail = email => {\n    if (!newMemberEmails.includes(email)) {\n      setNewMemberEmails([...newMemberEmails, email]);\n    }\n    setSearchQuery('');\n    setSearchResults([]);\n  };\n  const removeMemberEmail = email => {\n    setNewMemberEmails(newMemberEmails.filter(e => e !== email));\n  };\n  const handleAddMembers = async e => {\n    e.preventDefault();\n    if (newMemberEmails.length === 0) return;\n    setAddMemberLoading(true);\n    setError('');\n    try {\n      await api.post(`/groups/${groupId}/members`, {\n        emails: newMemberEmails\n      });\n      setSuccess('Members added successfully!');\n      resetMemberForm();\n      await fetchReportData();\n      setTimeout(() => setSuccess(''), 3000);\n    } catch (error) {\n      var _error$response5, _error$response5$data, _error$response6, _error$response6$data;\n      console.error('Error adding members:', error);\n      const errorMessage = ((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : (_error$response5$data = _error$response5.data) === null || _error$response5$data === void 0 ? void 0 : _error$response5$data.message) || ((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : (_error$response6$data = _error$response6.data) === null || _error$response6$data === void 0 ? void 0 : _error$response6$data.error) || 'Failed to add members. Please try again.';\n      setError(errorMessage);\n    } finally {\n      setAddMemberLoading(false);\n    }\n  };\n  const handleSettlePayment = async (fromUserId, toUserId, amount) => {\n    try {\n      await api.post('/expenses/settle', {\n        groupId,\n        fromUserId,\n        toUserId,\n        amount\n      });\n      setSuccess('Payment settled successfully!');\n      await fetchReportData();\n      setTimeout(() => setSuccess(''), 3000);\n    } catch (error) {\n      var _error$response7, _error$response7$data, _error$response8, _error$response8$data;\n      console.error('Error settling payment:', error);\n      const errorMessage = ((_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : (_error$response7$data = _error$response7.data) === null || _error$response7$data === void 0 ? void 0 : _error$response7$data.message) || ((_error$response8 = error.response) === null || _error$response8 === void 0 ? void 0 : (_error$response8$data = _error$response8.data) === null || _error$response8$data === void 0 ? void 0 : _error$response8$data.error) || 'Failed to settle payment. Please try again.';\n      setError(errorMessage);\n    }\n  };\n  const handleMarkAsPaid = async (expenseId, userId) => {\n    try {\n      await api.post(`/expenses/${expenseId}/mark-paid`, {\n        userId\n      });\n      setSuccess('Marked as paid successfully!');\n      await fetchReportData();\n      setTimeout(() => setSuccess(''), 3000);\n    } catch (error) {\n      var _error$response9, _error$response9$data, _error$response0, _error$response0$data;\n      console.error('Error marking as paid:', error);\n      const errorMessage = ((_error$response9 = error.response) === null || _error$response9 === void 0 ? void 0 : (_error$response9$data = _error$response9.data) === null || _error$response9$data === void 0 ? void 0 : _error$response9$data.message) || ((_error$response0 = error.response) === null || _error$response0 === void 0 ? void 0 : (_error$response0$data = _error$response0.data) === null || _error$response0$data === void 0 ? void 0 : _error$response0$data.error) || 'Failed to mark as paid. Please try again.';\n      setError(errorMessage);\n    }\n  };\n  const resetExpenseForm = () => {\n    setNewExpense({\n      description: '',\n      amount: '',\n      splitType: 'equal'\n    });\n    setCustomPercentages({});\n    setShowAddExpense(false);\n  };\n  const resetMemberForm = () => {\n    setShowAddMemberModal(false);\n    setNewMemberEmails([]);\n    setSearchQuery('');\n    setSearchResults([]);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reports-loading\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading expense report...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 7\n    }, this);\n  }\n  const members = getMembers();\n  const totalSpent = expenses.reduce((sum, expense) => sum + (parseFloat(expense.amount) || 0), 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"reports-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        .reports-container {\n          min-height: 100vh;\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n          padding: 20px;\n        }\n\n        .reports-content {\n          max-width: 1200px;\n          margin: 0 auto;\n        }\n\n        .reports-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          margin-bottom: 30px;\n          animation: slideDown 0.6s ease-out;\n        }\n\n        .header-info h1 {\n          color: white;\n          font-size: 2.5rem;\n          font-weight: 700;\n          margin: 0 0 10px 0;\n        }\n\n        .header-info p {\n          color: rgba(255, 255, 255, 0.8);\n          font-size: 1.1rem;\n          margin: 0;\n        }\n\n        .header-actions {\n          display: flex;\n          gap: 15px;\n        }\n\n        .btn-primary {\n          background: linear-gradient(135deg, #48bb78, #38a169);\n          color: white;\n          padding: 12px 24px;\n          border-radius: 12px;\n          border: none;\n          cursor: pointer;\n          font-weight: 600;\n          transition: all 0.3s ease;\n          text-decoration: none;\n          display: inline-flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        .btn-primary:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 10px 20px rgba(72, 187, 120, 0.3);\n        }\n\n        .btn-secondary {\n          background: linear-gradient(135deg, #667eea, #764ba2);\n          color: white;\n          padding: 12px 24px;\n          border-radius: 12px;\n          border: none;\n          cursor: pointer;\n          font-weight: 600;\n          transition: all 0.3s ease;\n        }\n\n        .btn-secondary:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);\n        }\n\n        .stats-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n          gap: 20px;\n          margin-bottom: 30px;\n        }\n\n        .stat-card {\n          background: rgba(255, 255, 255, 0.1);\n          backdrop-filter: blur(10px);\n          border-radius: 15px;\n          padding: 25px;\n          border: 1px solid rgba(255, 255, 255, 0.2);\n          color: white;\n          text-align: center;\n          transition: transform 0.3s ease;\n        }\n\n        .stat-card:hover {\n          transform: translateY(-5px);\n        }\n\n        .stat-value {\n          font-size: 2rem;\n          font-weight: 700;\n          margin-bottom: 5px;\n        }\n\n        .stat-label {\n          font-size: 0.9rem;\n          opacity: 0.8;\n        }\n\n        .tabs-container {\n          background: white;\n          border-radius: 20px;\n          overflow: hidden;\n          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n          margin-bottom: 30px;\n        }\n\n        .tabs-header {\n          display: flex;\n          background: #f8fafc;\n          border-bottom: 2px solid #e2e8f0;\n        }\n\n        .tab {\n          padding: 20px 30px;\n          background: none;\n          border: none;\n          font-weight: 600;\n          color: #718096;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          position: relative;\n        }\n\n        .tab.active {\n          color: #667eea;\n        }\n\n        .tab.active::after {\n          content: '';\n          position: absolute;\n          bottom: -2px;\n          left: 0;\n          right: 0;\n          height: 3px;\n          background: linear-gradient(135deg, #667eea, #764ba2);\n        }\n\n        .tab:hover {\n          color: #667eea;\n          background: rgba(102, 126, 234, 0.05);\n        }\n\n        .tab-content {\n          padding: 30px;\n        }\n\n        .settlements-grid {\n          display: grid;\n          gap: 15px;\n        }\n\n        .settlement-card {\n          background: #f8fafc;\n          border-radius: 12px;\n          padding: 20px;\n          border-left: 4px solid #48bb78;\n          transition: all 0.3s ease;\n        }\n\n        .settlement-card:hover {\n          transform: translateX(5px);\n          background: #edf2f7;\n        }\n\n        .settlement-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 10px;\n        }\n\n        .settlement-users {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n          font-weight: 600;\n          color: #2d3748;\n        }\n\n        .settlement-amount {\n          font-size: 1.2rem;\n          font-weight: 700;\n          color: #48bb78;\n        }\n\n        .settlement-actions {\n          margin-top: 15px;\n        }\n\n        .btn-settle {\n          background: #48bb78;\n          color: white;\n          padding: 8px 16px;\n          border-radius: 8px;\n          border: none;\n          cursor: pointer;\n          font-weight: 600;\n          transition: all 0.3s ease;\n        }\n\n        .btn-settle:hover {\n          background: #38a169;\n          transform: translateY(-1px);\n        }\n\n        .expenses-list {\n          display: grid;\n          gap: 20px;\n        }\n\n        .expense-card {\n          background: #f8fafc;\n          border-radius: 15px;\n          padding: 25px;\n          border-left: 4px solid #667eea;\n          transition: all 0.3s ease;\n        }\n\n        .expense-card:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);\n        }\n\n        .expense-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          margin-bottom: 15px;\n        }\n\n        .expense-title {\n          font-size: 1.2rem;\n          font-weight: 600;\n          color: #2d3748;\n          margin: 0;\n        }\n\n        .expense-meta {\n          color: #718096;\n          font-size: 0.9rem;\n        }\n\n        .expense-amount {\n          font-size: 1.5rem;\n          font-weight: 700;\n          color: #667eea;\n        }\n\n        .splits-list {\n          margin-top: 15px;\n        }\n\n        .split-item {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 10px 0;\n          border-bottom: 1px solid #e2e8f0;\n        }\n\n        .split-item:last-child {\n          border-bottom: none;\n        }\n\n        .split-info {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n        }\n\n        .split-status {\n          width: 8px;\n          height: 8px;\n          border-radius: 50%;\n        }\n\n        .status-paid {\n          background: #48bb78;\n        }\n\n        .status-pending {\n          background: #ed8936;\n        }\n\n        .split-actions {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n        }\n\n        .btn-mark-paid {\n          background: #667eea;\n          color: white;\n          padding: 6px 12px;\n          border-radius: 6px;\n          border: none;\n          cursor: pointer;\n          font-size: 0.8rem;\n          font-weight: 600;\n          transition: all 0.3s ease;\n        }\n\n        .btn-mark-paid:hover {\n          background: #5a67d8;\n          transform: translateY(-1px);\n        }\n\n        .download-section {\n          background: white;\n          border-radius: 20px;\n          padding: 40px;\n          text-align: center;\n          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n        }\n\n        .download-icon {\n          font-size: 3rem;\n          margin-bottom: 20px;\n          opacity: 0.7;\n        }\n\n        .download-title {\n          font-size: 1.5rem;\n          font-weight: 700;\n          color: #2d3748;\n          margin-bottom: 10px;\n        }\n\n        .download-description {\n          color: #718096;\n          margin-bottom: 25px;\n        }\n\n        .btn-download {\n          background: linear-gradient(135deg, #9f7aea, #805ad5);\n          color: white;\n          padding: 15px 30px;\n          border-radius: 12px;\n          border: none;\n          cursor: pointer;\n          font-weight: 600;\n          transition: all 0.3s ease;\n          display: inline-flex;\n          align-items: center;\n          gap: 10px;\n        }\n\n        .btn-download:hover:not(:disabled) {\n          transform: translateY(-2px);\n          box-shadow: 0 15px 30px rgba(159, 122, 234, 0.3);\n        }\n\n        .btn-download:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n\n        .empty-state {\n          text-align: center;\n          padding: 60px 20px;\n          color: #a0aec0;\n        }\n\n        .empty-icon {\n          font-size: 4rem;\n          margin-bottom: 20px;\n          opacity: 0.5;\n        }\n\n        .empty-text {\n          font-size: 1.1rem;\n          margin-bottom: 10px;\n        }\n\n        .empty-subtext {\n          font-size: 0.9rem;\n          opacity: 0.7;\n        }\n\n        /* Modal Styles */\n        .modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(0, 0, 0, 0.7);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n          padding: 20px;\n          backdrop-filter: blur(5px);\n        }\n\n        .modal-content {\n          background: white;\n          border-radius: 20px;\n          padding: 40px;\n          max-width: 600px;\n          width: 100%;\n          max-height: 90vh;\n          overflow-y: auto;\n          box-shadow: 0 30px 60px rgba(0, 0, 0, 0.3);\n          animation: modalSlideIn 0.3s ease-out;\n        }\n\n        .modal-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 30px;\n        }\n\n        .modal-title {\n          font-size: 1.5rem;\n          font-weight: 700;\n          color: #2d3748;\n          margin: 0;\n        }\n\n        .close-button {\n          background: none;\n          border: none;\n          font-size: 1.5rem;\n          color: #a0aec0;\n          cursor: pointer;\n          transition: color 0.3s ease;\n        }\n\n        .close-button:hover {\n          color: #718096;\n        }\n\n        .form-group {\n          margin-bottom: 25px;\n        }\n\n        .form-label {\n          display: block;\n          margin-bottom: 8px;\n          font-weight: 600;\n          color: #4a5568;\n        }\n\n        .form-input {\n          width: 100%;\n          padding: 15px;\n          border: 2px solid #e2e8f0;\n          border-radius: 12px;\n          font-size: 1rem;\n          transition: all 0.3s ease;\n        }\n\n        .form-input:focus {\n          outline: none;\n          border-color: #667eea;\n          box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n        }\n\n        .split-options {\n          background: #f8fafc;\n          padding: 20px;\n          border-radius: 12px;\n          margin-top: 20px;\n        }\n\n        .member-percentage {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 12px;\n          background: white;\n          border-radius: 8px;\n          margin-bottom: 10px;\n        }\n\n        .percentage-input {\n          width: 80px;\n          padding: 8px;\n          border: 2px solid #e2e8f0;\n          border-radius: 6px;\n          text-align: center;\n        }\n\n        .percentage-summary {\n          background: white;\n          padding: 15px;\n          border-radius: 8px;\n          margin-top: 15px;\n          text-align: center;\n          font-weight: 600;\n        }\n\n        .percentage-valid {\n          color: #48bb78;\n        }\n\n        .percentage-invalid {\n          color: #f56565;\n        }\n\n        .modal-actions {\n          display: flex;\n          gap: 15px;\n          justify-content: flex-end;\n          margin-top: 30px;\n          padding-top: 20px;\n          border-top: 2px solid #f7fafc;\n        }\n\n        .btn-cancel {\n          background: #e2e8f0;\n          color: #4a5568;\n          padding: 12px 24px;\n          border-radius: 12px;\n          border: none;\n          cursor: pointer;\n          font-weight: 600;\n          transition: all 0.3s ease;\n        }\n\n        .btn-cancel:hover {\n          background: #cbd5e0;\n        }\n\n        .btn-submit {\n          background: linear-gradient(135deg, #667eea, #764ba2);\n          color: white;\n          padding: 12px 24px;\n          border-radius: 12px;\n          border: none;\n          cursor: pointer;\n          font-weight: 600;\n          transition: all 0.3s ease;\n        }\n\n        .btn-submit:hover:not(:disabled) {\n          transform: translateY(-2px);\n          box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);\n        }\n\n        .btn-submit:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n\n        .reports-loading {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          min-height: 50vh;\n          color: white;\n        }\n\n        .loading-spinner {\n          width: 50px;\n          height: 50px;\n          border: 4px solid rgba(255, 255, 255, 0.3);\n          border-top: 4px solid white;\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n          margin-bottom: 20px;\n        }\n\n        .success-message {\n          background: #c6f6d5;\n          color: #22543d;\n          padding: 20px;\n          border-radius: 12px;\n          margin-bottom: 30px;\n          border-left: 4px solid #48bb78;\n          animation: slideDown 0.3s ease-out;\n        }\n\n        .error-message {\n          background: #fed7d7;\n          color: #c53030;\n          padding: 20px;\n          border-radius: 12px;\n          margin-bottom: 30px;\n          border-left: 4px solid #f56565;\n          animation: shake 0.5s ease-in-out;\n        }\n\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        @keyframes slideDown {\n          from {\n            opacity: 0;\n            transform: translateY(-20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        @keyframes modalSlideIn {\n          from {\n            opacity: 0;\n            transform: scale(0.9) translateY(-20px);\n          }\n          to {\n            opacity: 1;\n            transform: scale(1) translateY(0);\n          }\n        }\n\n        @keyframes shake {\n          0%, 100% { transform: translateX(0); }\n          25% { transform: translateX(-5px); }\n          75% { transform: translateX(5px); }\n        }\n\n        @media (max-width: 768px) {\n          .reports-header {\n            flex-direction: column;\n            gap: 20px;\n          }\n\n          .header-actions {\n            width: 100%;\n            justify-content: center;\n          }\n\n          .stats-grid {\n            grid-template-columns: 1fr;\n          }\n\n          .tabs-header {\n            flex-direction: column;\n          }\n\n          .tab {\n            text-align: center;\n          }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 494,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reports-content\",\n      children: [success && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Success:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1151,\n          columnNumber: 13\n        }, this), \" \", success]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1150,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Error:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1158,\n          columnNumber: 13\n        }, this), \" \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1157,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reports-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Expense Report\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [members.length, \" members \\u2022 \", expenses.length, \" expenses \\u2022 \", isGroupCreator() && 'You are the group creator']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1165,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-actions\",\n          children: [isGroupCreator() && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowAddMemberModal(true),\n            className: \"btn-primary\",\n            children: \"+ Add Members\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1171,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              if (members.length === 0) {\n                setError('No members found in this group. Please add members first.');\n              } else {\n                setShowAddExpense(true);\n              }\n            },\n            className: \"btn-secondary\",\n            children: \"+ Add Expense\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1178,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1169,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: [\"\\u20B9\", totalSpent.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Total Spent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1197,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: expenses.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Total Expenses\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1201,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: members.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1204,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Group Members\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1205,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: [\"\\u20B9\", (totalSpent / (members.length || 1)).toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1208,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Average per Member\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1209,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1207,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1194,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tabs-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tabs-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `tab ${activeTab === 'settlements' ? 'active' : ''}`,\n            onClick: () => setActiveTab('settlements'),\n            children: \"Settlement Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1216,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `tab ${activeTab === 'expenses' ? 'active' : ''}`,\n            onClick: () => setActiveTab('expenses'),\n            children: [\"All Expenses (\", expenses.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1222,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tab-content\",\n          children: [activeTab === 'settlements' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"settlements-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                marginBottom: '20px',\n                color: '#2d3748'\n              },\n              children: \"Who needs to pay whom\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1233,\n              columnNumber: 17\n            }, this), report && report.settlements && report.settlements.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"settlements-grid\",\n              children: report.settlements.map((settlement, index) => {\n                var _settlement$from3, _settlement$to2, _settlement$amount2;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"settlement-card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"settlement-header\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"settlement-users\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [((_settlement$from3 = settlement.from) === null || _settlement$from3 === void 0 ? void 0 : _settlement$from3.name) || 'Unknown User', settlement.from && compareIds(settlement.from._id, user.id) && /*#__PURE__*/_jsxDEV(\"span\", {\n                          style: {\n                            color: '#ed8936',\n                            marginLeft: '5px'\n                          },\n                          children: \"(You)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1243,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1240,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          color: '#a0aec0'\n                        },\n                        children: \"\\u2192\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1246,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [((_settlement$to2 = settlement.to) === null || _settlement$to2 === void 0 ? void 0 : _settlement$to2.name) || 'Unknown User', settlement.to && compareIds(settlement.to._id, user.id) && /*#__PURE__*/_jsxDEV(\"span\", {\n                          style: {\n                            color: '#4299e1',\n                            marginLeft: '5px'\n                          },\n                          children: \"(You)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1250,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1247,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1239,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"settlement-amount\",\n                      children: [\"\\u20B9\", ((_settlement$amount2 = settlement.amount) === null || _settlement$amount2 === void 0 ? void 0 : _settlement$amount2.toFixed(2)) || '0.00']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1254,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1238,\n                    columnNumber: 25\n                  }, this), isCurrentUserDebtor(settlement) && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"settlement-actions\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => {\n                        var _settlement$from4, _settlement$to3;\n                        return handleSettlePayment((_settlement$from4 = settlement.from) === null || _settlement$from4 === void 0 ? void 0 : _settlement$from4._id, (_settlement$to3 = settlement.to) === null || _settlement$to3 === void 0 ? void 0 : _settlement$to3._id, settlement.amount);\n                      },\n                      className: \"btn-settle\",\n                      children: \"Mark as Settled\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1260,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1259,\n                    columnNumber: 27\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1237,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1235,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"empty-state\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"empty-icon\",\n                children: \"\\uD83C\\uDF89\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1277,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"empty-text\",\n                children: \"All expenses are settled!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1278,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"empty-subtext\",\n                children: \"No pending payments between members\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1279,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1276,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1232,\n            columnNumber: 15\n          }, this), activeTab === 'expenses' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"expenses-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                marginBottom: '20px',\n                color: '#2d3748'\n              },\n              children: \"All Group Expenses\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1287,\n              columnNumber: 17\n            }, this), expenses.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"expenses-list\",\n              children: expenses.map(expense => {\n                var _expense$paidBy3;\n                const validSplits = getValidSplits(expense);\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"expense-card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"expense-header\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"expense-title\",\n                        children: expense.description\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1296,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"expense-meta\",\n                        children: [\"Paid by \", ((_expense$paidBy3 = expense.paidBy) === null || _expense$paidBy3 === void 0 ? void 0 : _expense$paidBy3.name) || 'Unknown User', expense.paidBy && compareIds(expense.paidBy._id, user.id) && /*#__PURE__*/_jsxDEV(\"span\", {\n                          style: {\n                            color: '#4299e1',\n                            marginLeft: '5px'\n                          },\n                          children: \"(You paid)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1300,\n                          columnNumber: 35\n                        }, this), \"\\u2022 \", expense.splitType, \" split\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1297,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1295,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"expense-amount\",\n                      children: [\"\\u20B9\", expense.amount]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1305,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1294,\n                    columnNumber: 27\n                  }, this), validSplits.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"splits-list\",\n                    children: validSplits.map((split, index) => {\n                      var _split$user3, _split$amount2;\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"split-item\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"split-info\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: `split-status ${split.paid ? 'status-paid' : 'status-pending'}`\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1315,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            children: [((_split$user3 = split.user) === null || _split$user3 === void 0 ? void 0 : _split$user3.name) || 'Unknown User', split.user && compareIds(split.user._id, user.id) && /*#__PURE__*/_jsxDEV(\"span\", {\n                              style: {\n                                color: '#ed8936',\n                                marginLeft: '5px'\n                              },\n                              children: \"(You)\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 1319,\n                              columnNumber: 41\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1316,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1314,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"split-actions\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            style: {\n                              fontWeight: '600',\n                              color: split.paid ? '#48bb78' : '#718096'\n                            },\n                            children: [\"\\u20B9\", ((_split$amount2 = split.amount) === null || _split$amount2 === void 0 ? void 0 : _split$amount2.toFixed(2)) || '0.00']\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1324,\n                            columnNumber: 37\n                          }, this), shouldShowMarkPaid(expense, split) && /*#__PURE__*/_jsxDEV(\"button\", {\n                            onClick: () => handleMarkAsPaid(expense._id, split.user._id),\n                            className: \"btn-mark-paid\",\n                            children: \"Mark Paid\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 1328,\n                            columnNumber: 39\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1323,\n                          columnNumber: 35\n                        }, this)]\n                      }, index, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1313,\n                        columnNumber: 33\n                      }, this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1311,\n                    columnNumber: 29\n                  }, this)]\n                }, expense._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1293,\n                  columnNumber: 25\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1289,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"empty-state\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"empty-icon\",\n                children: \"\\uD83D\\uDCB8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1346,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"empty-text\",\n                children: \"No expenses yet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1347,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"empty-subtext\",\n                children: \"Add your first expense to get started\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1348,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1345,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1286,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1230,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"download-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"download-icon\",\n          children: \"\\uD83D\\uDCCA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1358,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"download-title\",\n          children: \"Export Complete Report\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1359,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"download-description\",\n          children: \"Download a comprehensive text report with all expenses, settlements, and financial summaries\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1360,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: downloadReport,\n          disabled: downloading,\n          className: \"btn-download\",\n          children: downloading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loading-spinner\",\n              style: {\n                width: '20px',\n                height: '20px',\n                borderWidth: '2px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1370,\n              columnNumber: 17\n            }, this), \"Generating Report...\"]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: \"\\uD83D\\uDCE5 Download Expense Report\"\n          }, void 0, false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1363,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1357,\n        columnNumber: 9\n      }, this), showAddExpense && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-overlay\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"modal-title\",\n              children: \"Add New Expense\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1386,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: resetExpenseForm,\n              className: \"close-button\",\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1387,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1385,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleAddExpense,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Description *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1397,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                required: true,\n                className: \"form-input\",\n                placeholder: \"e.g., Dinner, Hotel, Taxi\",\n                value: newExpense.description,\n                onChange: e => setNewExpense({\n                  ...newExpense,\n                  description: e.target.value\n                }),\n                disabled: addExpenseLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1398,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1396,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Amount (\\u20B9) *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1410,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                step: \"0.01\",\n                min: \"0.01\",\n                required: true,\n                className: \"form-input\",\n                placeholder: \"0.00\",\n                value: newExpense.amount,\n                onChange: e => setNewExpense({\n                  ...newExpense,\n                  amount: e.target.value\n                }),\n                disabled: addExpenseLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1411,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1409,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Split Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1425,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-input\",\n                value: newExpense.splitType,\n                onChange: e => handleSplitTypeChange(e.target.value),\n                disabled: addExpenseLoading || members.length === 0,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"equal\",\n                  children: \"Equal Split\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1432,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"custom\",\n                  disabled: members.length === 0,\n                  children: [\"Custom Split by Percentage \", members.length === 0 && '(No members)']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1433,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1426,\n                columnNumber: 19\n              }, this), members.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: '#f56565',\n                  fontSize: '0.8rem',\n                  marginTop: '5px'\n                },\n                children: \"No members found. Please add members to the group first.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1438,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1424,\n              columnNumber: 17\n            }, this), newExpense.splitType === 'custom' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"split-options\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  marginBottom: '15px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Split Percentages *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1447,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    gap: '10px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: handleEqualSplit,\n                    style: {\n                      background: '#667eea',\n                      color: 'white',\n                      padding: '8px 12px',\n                      border: 'none',\n                      borderRadius: '6px',\n                      fontSize: '0.8rem',\n                      cursor: 'pointer'\n                    },\n                    children: \"Equal Split\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1449,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: handleClearPercentages,\n                    style: {\n                      background: '#e2e8f0',\n                      color: '#4a5568',\n                      padding: '8px 12px',\n                      border: 'none',\n                      borderRadius: '6px',\n                      fontSize: '0.8rem',\n                      cursor: 'pointer'\n                    },\n                    children: \"Clear All\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1464,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1448,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1446,\n                columnNumber: 21\n              }, this), members && members.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [members.map(member => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"member-percentage\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [member.name, compareIds(member._id, user.id) && /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        color: '#667eea',\n                        marginLeft: '5px'\n                      },\n                      children: \"(You)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1489,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1486,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '10px'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        fontSize: '0.8rem',\n                        color: '#718096'\n                      },\n                      children: [\"\\u20B9\", calculateMemberAmount(customPercentages[member._id]).toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1493,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      inputMode: \"decimal\",\n                      className: \"percentage-input\",\n                      placeholder: \"0.00\",\n                      value: customPercentages[member._id] || '',\n                      onChange: e => handleCustomPercentageChange(member._id, e.target.value),\n                      disabled: addExpenseLoading\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1496,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        color: '#718096'\n                      },\n                      children: \"%\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1505,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1492,\n                    columnNumber: 29\n                  }, this)]\n                }, member._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1485,\n                  columnNumber: 27\n                }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `percentage-summary ${validateCustomPercentages() ? 'percentage-valid' : 'percentage-invalid'}`,\n                  children: [\"Total: \", getTotalPercentage().toFixed(2), \"%\", validateCustomPercentages() ? ' âœ“ Ready' : ` âœ— Need ${getRemainingPercentage()}% more`]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1510,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  textAlign: 'center',\n                  color: '#718096',\n                  padding: '20px'\n                },\n                children: \"No members found in this group\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1516,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1445,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: resetExpenseForm,\n                disabled: addExpenseLoading,\n                className: \"btn-cancel\",\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1524,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                disabled: addExpenseLoading || newExpense.splitType === 'custom' && !validateCustomPercentages(),\n                className: \"btn-submit\",\n                children: addExpenseLoading ? 'Adding Expense...' : 'Add Expense'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1532,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1523,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1395,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1384,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1383,\n        columnNumber: 11\n      }, this), showAddMemberModal && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-overlay\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"modal-title\",\n              children: \"Add Members to Group\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1550,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: resetMemberForm,\n              className: \"close-button\",\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1551,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1549,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleAddMembers,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Invite Members by Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1561,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-input\",\n                placeholder: \"Search by email...\",\n                value: searchQuery,\n                onChange: e => {\n                  setSearchQuery(e.target.value);\n                  handleSearchUsers(e.target.value);\n                },\n                disabled: addMemberLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1562,\n                columnNumber: 19\n              }, this), searchResults.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: '10px',\n                  border: '2px solid #e2e8f0',\n                  borderRadius: '8px',\n                  maxHeight: '150px',\n                  overflowY: 'auto'\n                },\n                children: searchResults.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    padding: '12px 15px',\n                    cursor: 'pointer',\n                    borderBottom: '1px solid #f7fafc',\n                    transition: 'background 0.3s ease'\n                  },\n                  onClick: () => addMemberEmail(user.email),\n                  children: [user.name, \" (\", user.email, \")\"]\n                }, user._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1583,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1575,\n                columnNumber: 21\n              }, this), newMemberEmails.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: '15px',\n                  display: 'flex',\n                  flexWrap: 'wrap',\n                  gap: '8px'\n                },\n                children: newMemberEmails.map(email => /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    background: 'linear-gradient(135deg, #48bb78, #38a169)',\n                    color: 'white',\n                    padding: '6px 12px',\n                    borderRadius: '20px',\n                    fontSize: '0.8rem',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '6px'\n                  },\n                  children: [email, /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    style: {\n                      background: 'none',\n                      border: 'none',\n                      color: 'white',\n                      cursor: 'pointer',\n                      fontSize: '1rem',\n                      padding: '0'\n                    },\n                    onClick: () => removeMemberEmail(email),\n                    disabled: addMemberLoading,\n                    children: \"\\xD7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1616,\n                    columnNumber: 27\n                  }, this)]\n                }, email, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1602,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1600,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1560,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: resetMemberForm,\n                disabled: addMemberLoading,\n                className: \"btn-cancel\",\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1638,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                disabled: addMemberLoading || newMemberEmails.length === 0,\n                className: \"btn-submit\",\n                children: addMemberLoading ? 'Adding Members...' : 'Add Members'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1646,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1637,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1559,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1548,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1547,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1147,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 493,\n    columnNumber: 5\n  }, this);\n};\n_s(ReportsPage, \"enMlhlwJ4Bsx21mKk02o3xuAfDo=\", false, function () {\n  return [useParams];\n});\n_c = ReportsPage;\nexport default ReportsPage;\nvar _c;\n$RefreshReg$(_c, \"ReportsPage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","api","jsxDEV","_jsxDEV","Fragment","_Fragment","ReportsPage","user","_s","groupId","report","setReport","expenses","setExpenses","showAddExpense","setShowAddExpense","showAddMemberModal","setShowAddMemberModal","searchQuery","setSearchQuery","searchResults","setSearchResults","newExpense","setNewExpense","description","amount","splitType","customPercentages","setCustomPercentages","newMemberEmails","setNewMemberEmails","loading","setLoading","addExpenseLoading","setAddExpenseLoading","addMemberLoading","setAddMemberLoading","error","setError","success","setSuccess","downloading","setDownloading","activeTab","setActiveTab","fetchReportData","reportResponse","expensesResponse","membersResponse","Promise","all","get","catch","console","warn","data","members","filteredExpenses","map","expense","_expense$splits","splits","filter","split","paidBy","compareIds","_id","_error$response","_error$response$data","_error$response2","_error$response2$data","errorMessage","response","message","downloadReport","reportContent","generateReportContent","blob","Blob","type","url","URL","createObjectURL","link","document","createElement","href","download","Date","toISOString","body","appendChild","click","removeChild","revokeObjectURL","setTimeout","getMembers","groupName","currentDate","toLocaleDateString","content","length","forEach","member","index","isYou","id","name","email","settlements","settlement","_settlement$from","_settlement$to","_settlement$amount","fromName","from","toName","to","toFixed","expenseIndex","_expense$paidBy","_expense$paidBy2","paidByName","validSplits","getValidSplits","createdAt","splitIndex","_split$user","_split$user2","_split$amount","userName","status","paid","percentageInfo","percentage","totalAmount","reduce","sum","parseFloat","now","isGroupCreator","some","handleAddExpense","e","preventDefault","trim","validateCustomPercentages","expenseData","calculatedSplits","Object","entries","userId","post","_error$response3","_error$response3$data","_error$response4","_error$response4$data","handleSplitTypeChange","equalPercentage","newPercentages","handleCustomPercentageChange","value","test","numValue","prev","handleEqualSplit","handleClearPercentages","percentages","values","validPercentages","every","num","isNaN","totalPercentage","Math","abs","getTotalPercentage","getRemainingPercentage","calculateMemberAmount","id1","id2","toString","isCurrentUserDebtor","_settlement$from2","shouldShowMarkPaid","_expense$splits2","handleSearchUsers","query","encodeURIComponent","addMemberEmail","includes","removeMemberEmail","handleAddMembers","emails","resetMemberForm","_error$response5","_error$response5$data","_error$response6","_error$response6$data","handleSettlePayment","fromUserId","toUserId","_error$response7","_error$response7$data","_error$response8","_error$response8$data","handleMarkAsPaid","expenseId","_error$response9","_error$response9$data","_error$response0","_error$response0$data","resetExpenseForm","className","children","fileName","_jsxFileName","lineNumber","columnNumber","totalSpent","jsx","onClick","style","marginBottom","color","_settlement$from3","_settlement$to2","_settlement$amount2","marginLeft","_settlement$from4","_settlement$to3","_expense$paidBy3","_split$user3","_split$amount2","fontWeight","disabled","width","height","borderWidth","onSubmit","required","placeholder","onChange","target","step","min","fontSize","marginTop","display","justifyContent","alignItems","gap","background","padding","border","borderRadius","cursor","inputMode","textAlign","maxHeight","overflowY","borderBottom","transition","flexWrap","_c","$RefreshReg$"],"sources":["D:/projects_folder/splitwise/frontend/src/pages/ReportsPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport api from '../utils/api';\r\n\r\nconst ReportsPage = ({ user }) => {\r\n  const { groupId } = useParams();\r\n  const [report, setReport] = useState(null);\r\n  const [expenses, setExpenses] = useState([]);\r\n  const [showAddExpense, setShowAddExpense] = useState(false);\r\n  const [showAddMemberModal, setShowAddMemberModal] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [newExpense, setNewExpense] = useState({\r\n    description: '',\r\n    amount: '',\r\n    splitType: 'equal'\r\n  });\r\n  const [customPercentages, setCustomPercentages] = useState({});\r\n  const [newMemberEmails, setNewMemberEmails] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [addExpenseLoading, setAddExpenseLoading] = useState(false);\r\n  const [addMemberLoading, setAddMemberLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [downloading, setDownloading] = useState(false);\r\n  const [activeTab, setActiveTab] = useState('settlements');\r\n\r\n  useEffect(() => {\r\n    fetchReportData();\r\n  }, [groupId]);\r\n\r\n  const fetchReportData = async () => {\r\n    try {\r\n      setError('');\r\n      setLoading(true);\r\n      \r\n      const [reportResponse, expensesResponse, membersResponse] = await Promise.all([\r\n        api.get(`/expenses/report/${groupId}`),\r\n        api.get(`/expenses/group/${groupId}`),\r\n        api.get(`/groups/${groupId}/members`).catch(error => {\r\n          console.warn('Group members API failed, using report members:', error);\r\n          return { data: { members: [] } };\r\n        })\r\n      ]);\r\n      \r\n      setReport(reportResponse.data);\r\n      \r\n      const filteredExpenses = (expensesResponse.data || []).map(expense => ({\r\n        ...expense,\r\n        splits: expense.splits?.filter(split => \r\n          split.user && \r\n          expense.paidBy && \r\n          !compareIds(split.user._id, expense.paidBy._id)\r\n        ) || []\r\n      }));\r\n      \r\n      setExpenses(filteredExpenses);\r\n      \r\n    } catch (error) {\r\n      console.error('Unexpected error in fetchReportData:', error);\r\n      const errorMessage = error.response?.data?.message || \r\n                          error.response?.data?.error || \r\n                          error.message || \r\n                          'Failed to load report data. Please check your connection and try again.';\r\n      setError(errorMessage);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const downloadReport = async () => {\r\n    try {\r\n      setDownloading(true);\r\n      setError('');\r\n\r\n      const reportContent = generateReportContent();\r\n      const blob = new Blob([reportContent], { type: 'text/plain' });\r\n      const url = URL.createObjectURL(blob);\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.download = `expense-report-group-${groupId}-${new Date().toISOString().split('T')[0]}.txt`;\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      URL.revokeObjectURL(url);\r\n\r\n      setSuccess('Report downloaded successfully!');\r\n      setTimeout(() => setSuccess(''), 3000);\r\n    } catch (error) {\r\n      console.error('Error downloading report:', error);\r\n      setError('Failed to download report. Please try again.');\r\n    } finally {\r\n      setDownloading(false);\r\n    }\r\n  };\r\n\r\n  const generateReportContent = () => {\r\n    const members = getMembers();\r\n    const groupName = report?.groupName || `Group ${groupId}`;\r\n    const currentDate = new Date().toLocaleDateString();\r\n    \r\n    let content = `EXPENSE REPORT\\n`;\r\n    content += `===============\\n\\n`;\r\n    content += `Group: ${groupName}\\n`;\r\n    content += `Report Date: ${currentDate}\\n`;\r\n    content += `Total Members: ${members.length}\\n`;\r\n    content += `Total Expenses: ${expenses.length}\\n\\n`;\r\n\r\n    // Group Members Section\r\n    content += `GROUP MEMBERS:\\n`;\r\n    content += `--------------\\n`;\r\n    members.forEach((member, index) => {\r\n      const isYou = compareIds(member._id, user.id) ? ' (You)' : '';\r\n      content += `${index + 1}. ${member.name}${isYou} - ${member.email}\\n`;\r\n    });\r\n    content += `\\n`;\r\n\r\n    // Settlement Summary Section\r\n    content += `SETTLEMENT SUMMARY:\\n`;\r\n    content += `------------------\\n`;\r\n    if (report && report.settlements && report.settlements.length > 0) {\r\n      report.settlements.forEach((settlement, index) => {\r\n        const fromName = settlement.from?.name || 'Unknown User';\r\n        const toName = settlement.to?.name || 'Unknown User';\r\n        const amount = settlement.amount?.toFixed(2) || '0.00';\r\n        content += `${index + 1}. ${fromName} â†’ ${toName}: â‚¹${amount}\\n`;\r\n      });\r\n    } else {\r\n      content += `All expenses are settled! ðŸŽ‰\\n`;\r\n    }\r\n    content += `\\n`;\r\n\r\n    // Detailed Expenses Section\r\n    content += `DETAILED EXPENSES:\\n`;\r\n    content += `------------------\\n`;\r\n    if (expenses.length > 0) {\r\n      expenses.forEach((expense, expenseIndex) => {\r\n        const paidByName = expense.paidBy?.name || 'Unknown User';\r\n        const validSplits = getValidSplits(expense);\r\n        \r\n        content += `\\nExpense ${expenseIndex + 1}:\\n`;\r\n        content += `  Description: ${expense.description}\\n`;\r\n        content += `  Amount: â‚¹${expense.amount}\\n`;\r\n        content += `  Paid By: ${paidByName}${compareIds(expense.paidBy?._id, user.id) ? ' (You)' : ''}\\n`;\r\n        content += `  Split Type: ${expense.splitType}\\n`;\r\n        content += `  Date: ${new Date(expense.createdAt).toLocaleDateString()}\\n`;\r\n        \r\n        if (validSplits.length > 0) {\r\n          content += `  Splits:\\n`;\r\n          validSplits.forEach((split, splitIndex) => {\r\n            const userName = split.user?.name || 'Unknown User';\r\n            const status = split.paid ? 'âœ… Paid' : 'âŒ Not Paid';\r\n            const percentageInfo = expense.splitType === 'custom' && split.percentage ? ` (${split.percentage}%)` : '';\r\n            content += `    ${splitIndex + 1}. ${userName}${compareIds(split.user?._id, user.id) ? ' (You)' : ''}: â‚¹${split.amount?.toFixed(2) || '0.00'}${percentageInfo} - ${status}\\n`;\r\n          });\r\n        } else {\r\n          content += `  Splits: No splits (payer only expense)\\n`;\r\n        }\r\n      });\r\n    } else {\r\n      content += `No expenses recorded.\\n`;\r\n    }\r\n\r\n    // Financial Summary Section\r\n    content += `\\nFINANCIAL SUMMARY:\\n`;\r\n    content += `-----------------\\n`;\r\n    const totalAmount = expenses.reduce((sum, expense) => sum + (parseFloat(expense.amount) || 0), 0);\r\n    content += `Total Amount Spent: â‚¹${totalAmount.toFixed(2)}\\n`;\r\n    \r\n    if (members.length > 0) {\r\n      content += `Average per Member: â‚¹${(totalAmount / members.length).toFixed(2)}\\n`;\r\n    }\r\n\r\n    content += `\\n\\n---\\n`;\r\n    content += `Generated by Expense Tracker App\\n`;\r\n    content += `Report ID: ${groupId}-${Date.now()}`;\r\n\r\n    return content;\r\n  };\r\n\r\n  const getMembers = () => {\r\n    return (report && report.members) ? report.members : [];\r\n  };\r\n\r\n  const isGroupCreator = () => {\r\n    const members = getMembers();\r\n    return members.some(member => compareIds(member._id, user.id));\r\n  };\r\n\r\n  const handleAddExpense = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!newExpense.description.trim()) {\r\n      setError('Please enter a description');\r\n      return;\r\n    }\r\n    \r\n    if (!newExpense.amount || parseFloat(newExpense.amount) <= 0) {\r\n      setError('Please enter a valid amount');\r\n      return;\r\n    }\r\n\r\n    const members = getMembers();\r\n    if (members.length === 0) {\r\n      setError('No members found in this group. Please add members first.');\r\n      return;\r\n    }\r\n\r\n    if (newExpense.splitType === 'custom' && !validateCustomPercentages()) {\r\n      setError('Custom percentages must total exactly 100%');\r\n      return;\r\n    }\r\n\r\n    setAddExpenseLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const expenseData = {\r\n        description: newExpense.description.trim(),\r\n        amount: parseFloat(newExpense.amount),\r\n        groupId: groupId,\r\n        splitType: newExpense.splitType,\r\n        paidBy: user._id || user.id\r\n      };\r\n\r\n      if (newExpense.splitType === 'custom') {\r\n        const calculatedSplits = Object.entries(customPercentages)\r\n          .filter(([userId, percentage]) => percentage && parseFloat(percentage) > 0)\r\n          .map(([userId, percentage]) => {\r\n            const amount = (parseFloat(newExpense.amount) * parseFloat(percentage)) / 100;\r\n            return {\r\n              user: userId,\r\n              percentage: parseFloat(percentage),\r\n              amount: amount\r\n            };\r\n          });\r\n        \r\n        expenseData.splits = calculatedSplits;\r\n      }\r\n\r\n      await api.post('/expenses', expenseData);\r\n      \r\n      setNewExpense({ description: '', amount: '', splitType: 'equal' });\r\n      setCustomPercentages({});\r\n      setShowAddExpense(false);\r\n      await fetchReportData();\r\n      \r\n      setSuccess('Expense added successfully!');\r\n      setTimeout(() => setSuccess(''), 3000);\r\n      \r\n    } catch (error) {\r\n      console.error('Error adding expense:', error);\r\n      const errorMessage = error.response?.data?.message || \r\n                          error.response?.data?.error || \r\n                          'Failed to add expense. Please try again.';\r\n      setError(errorMessage);\r\n    } finally {\r\n      setAddExpenseLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSplitTypeChange = (splitType) => {\r\n    setNewExpense({ ...newExpense, splitType });\r\n    \r\n    if (splitType === 'custom') {\r\n      const members = getMembers();\r\n      if (members && members.length > 0) {\r\n        const equalPercentage = (100 / members.length).toFixed(2);\r\n        const newPercentages = {};\r\n        \r\n        members.forEach(member => {\r\n          newPercentages[member._id] = equalPercentage;\r\n        });\r\n        \r\n        setCustomPercentages(newPercentages);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCustomPercentageChange = (userId, value) => {\r\n    if (value === '' || /^\\d*\\.?\\d*$/.test(value)) {\r\n      const numValue = parseFloat(value);\r\n      if (value === '' || (numValue >= 0 && numValue <= 100)) {\r\n        setCustomPercentages(prev => ({\r\n          ...prev,\r\n          [userId]: value\r\n        }));\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleEqualSplit = () => {\r\n    const members = getMembers();\r\n    if (!members || members.length === 0) return;\r\n    \r\n    const equalPercentage = (100 / members.length).toFixed(2);\r\n    const newPercentages = {};\r\n    \r\n    members.forEach(member => {\r\n      newPercentages[member._id] = equalPercentage;\r\n    });\r\n    \r\n    setCustomPercentages(newPercentages);\r\n  };\r\n\r\n  const handleClearPercentages = () => {\r\n    setCustomPercentages({});\r\n  };\r\n\r\n  const validateCustomPercentages = () => {\r\n    const members = getMembers();\r\n    if (!members || members.length === 0) return false;\r\n    \r\n    const percentages = Object.values(customPercentages);\r\n    if (percentages.length === 0) return false;\r\n    \r\n    const validPercentages = percentages.every(percentage => {\r\n      const num = parseFloat(percentage);\r\n      return !isNaN(num) && num >= 0 && num <= 100;\r\n    });\r\n    \r\n    if (!validPercentages) return false;\r\n    \r\n    const totalPercentage = percentages.reduce((sum, percentage) => {\r\n      return sum + (parseFloat(percentage) || 0);\r\n    }, 0);\r\n    \r\n    return Math.abs(totalPercentage - 100) < 0.1;\r\n  };\r\n\r\n  const getTotalPercentage = () => {\r\n    return Object.values(customPercentages).reduce((sum, percentage) => {\r\n      return sum + (parseFloat(percentage) || 0);\r\n    }, 0);\r\n  };\r\n\r\n  const getRemainingPercentage = () => {\r\n    return (100 - getTotalPercentage()).toFixed(2);\r\n  };\r\n\r\n  const calculateMemberAmount = (percentage) => {\r\n    if (!percentage || !newExpense.amount) return 0;\r\n    return (parseFloat(newExpense.amount) * parseFloat(percentage)) / 100;\r\n  };\r\n\r\n  const compareIds = (id1, id2) => {\r\n    if (!id1 || !id2) return false;\r\n    return id1.toString() === id2.toString();\r\n  };\r\n\r\n  const isCurrentUserDebtor = (settlement) => {\r\n    return compareIds(settlement.from?._id, user.id);\r\n  };\r\n\r\n  const shouldShowMarkPaid = (expense, split) => {\r\n    return (\r\n      !split.paid && \r\n      split.user && \r\n      compareIds(split.user._id, user.id) &&\r\n      expense.paidBy && \r\n      !compareIds(expense.paidBy._id, user.id) &&\r\n      !compareIds(expense.paidBy._id, split.user._id)\r\n    );\r\n  };\r\n\r\n  const getValidSplits = (expense) => {\r\n    return expense.splits?.filter(split => \r\n      split.user && \r\n      expense.paidBy && \r\n      !compareIds(split.user._id, expense.paidBy._id)\r\n    ) || [];\r\n  };\r\n\r\n  const handleSearchUsers = async (query) => {\r\n    if (query.trim().length < 3) {\r\n      setSearchResults([]);\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const response = await api.get(`/users/search?q=${encodeURIComponent(query)}`);\r\n      setSearchResults(response.data || []);\r\n    } catch (error) {\r\n      console.error('Error searching users:', error);\r\n      setSearchResults([]);\r\n    }\r\n  };\r\n\r\n  const addMemberEmail = (email) => {\r\n    if (!newMemberEmails.includes(email)) {\r\n      setNewMemberEmails([...newMemberEmails, email]);\r\n    }\r\n    setSearchQuery('');\r\n    setSearchResults([]);\r\n  };\r\n\r\n  const removeMemberEmail = (email) => {\r\n    setNewMemberEmails(newMemberEmails.filter(e => e !== email));\r\n  };\r\n\r\n  const handleAddMembers = async (e) => {\r\n    e.preventDefault();\r\n    if (newMemberEmails.length === 0) return;\r\n    \r\n    setAddMemberLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n      await api.post(`/groups/${groupId}/members`, {\r\n        emails: newMemberEmails\r\n      });\r\n      \r\n      setSuccess('Members added successfully!');\r\n      resetMemberForm();\r\n      await fetchReportData();\r\n      setTimeout(() => setSuccess(''), 3000);\r\n    } catch (error) {\r\n      console.error('Error adding members:', error);\r\n      const errorMessage = error.response?.data?.message || \r\n                          error.response?.data?.error || \r\n                          'Failed to add members. Please try again.';\r\n      setError(errorMessage);\r\n    } finally {\r\n      setAddMemberLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSettlePayment = async (fromUserId, toUserId, amount) => {\r\n    try {\r\n      await api.post('/expenses/settle', {\r\n        groupId,\r\n        fromUserId,\r\n        toUserId,\r\n        amount\r\n      });\r\n      \r\n      setSuccess('Payment settled successfully!');\r\n      await fetchReportData();\r\n      setTimeout(() => setSuccess(''), 3000);\r\n    } catch (error) {\r\n      console.error('Error settling payment:', error);\r\n      const errorMessage = error.response?.data?.message || \r\n                          error.response?.data?.error || \r\n                          'Failed to settle payment. Please try again.';\r\n      setError(errorMessage);\r\n    }\r\n  };\r\n\r\n  const handleMarkAsPaid = async (expenseId, userId) => {\r\n    try {\r\n      await api.post(`/expenses/${expenseId}/mark-paid`, {\r\n        userId\r\n      });\r\n      \r\n      setSuccess('Marked as paid successfully!');\r\n      await fetchReportData();\r\n      setTimeout(() => setSuccess(''), 3000);\r\n    } catch (error) {\r\n      console.error('Error marking as paid:', error);\r\n      const errorMessage = error.response?.data?.message || \r\n                          error.response?.data?.error || \r\n                          'Failed to mark as paid. Please try again.';\r\n      setError(errorMessage);\r\n    }\r\n  };\r\n\r\n  const resetExpenseForm = () => {\r\n    setNewExpense({ description: '', amount: '', splitType: 'equal' });\r\n    setCustomPercentages({});\r\n    setShowAddExpense(false);\r\n  };\r\n\r\n  const resetMemberForm = () => {\r\n    setShowAddMemberModal(false);\r\n    setNewMemberEmails([]);\r\n    setSearchQuery('');\r\n    setSearchResults([]);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"reports-loading\">\r\n        <div className=\"loading-spinner\"></div>\r\n        <p>Loading expense report...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const members = getMembers();\r\n  const totalSpent = expenses.reduce((sum, expense) => sum + (parseFloat(expense.amount) || 0), 0);\r\n\r\n  return (\r\n    <div className=\"reports-container\">\r\n      <style jsx>{`\r\n        .reports-container {\r\n          min-height: 100vh;\r\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n          padding: 20px;\r\n        }\r\n\r\n        .reports-content {\r\n          max-width: 1200px;\r\n          margin: 0 auto;\r\n        }\r\n\r\n        .reports-header {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: flex-start;\r\n          margin-bottom: 30px;\r\n          animation: slideDown 0.6s ease-out;\r\n        }\r\n\r\n        .header-info h1 {\r\n          color: white;\r\n          font-size: 2.5rem;\r\n          font-weight: 700;\r\n          margin: 0 0 10px 0;\r\n        }\r\n\r\n        .header-info p {\r\n          color: rgba(255, 255, 255, 0.8);\r\n          font-size: 1.1rem;\r\n          margin: 0;\r\n        }\r\n\r\n        .header-actions {\r\n          display: flex;\r\n          gap: 15px;\r\n        }\r\n\r\n        .btn-primary {\r\n          background: linear-gradient(135deg, #48bb78, #38a169);\r\n          color: white;\r\n          padding: 12px 24px;\r\n          border-radius: 12px;\r\n          border: none;\r\n          cursor: pointer;\r\n          font-weight: 600;\r\n          transition: all 0.3s ease;\r\n          text-decoration: none;\r\n          display: inline-flex;\r\n          align-items: center;\r\n          gap: 8px;\r\n        }\r\n\r\n        .btn-primary:hover {\r\n          transform: translateY(-2px);\r\n          box-shadow: 0 10px 20px rgba(72, 187, 120, 0.3);\r\n        }\r\n\r\n        .btn-secondary {\r\n          background: linear-gradient(135deg, #667eea, #764ba2);\r\n          color: white;\r\n          padding: 12px 24px;\r\n          border-radius: 12px;\r\n          border: none;\r\n          cursor: pointer;\r\n          font-weight: 600;\r\n          transition: all 0.3s ease;\r\n        }\r\n\r\n        .btn-secondary:hover {\r\n          transform: translateY(-2px);\r\n          box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);\r\n        }\r\n\r\n        .stats-grid {\r\n          display: grid;\r\n          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\r\n          gap: 20px;\r\n          margin-bottom: 30px;\r\n        }\r\n\r\n        .stat-card {\r\n          background: rgba(255, 255, 255, 0.1);\r\n          backdrop-filter: blur(10px);\r\n          border-radius: 15px;\r\n          padding: 25px;\r\n          border: 1px solid rgba(255, 255, 255, 0.2);\r\n          color: white;\r\n          text-align: center;\r\n          transition: transform 0.3s ease;\r\n        }\r\n\r\n        .stat-card:hover {\r\n          transform: translateY(-5px);\r\n        }\r\n\r\n        .stat-value {\r\n          font-size: 2rem;\r\n          font-weight: 700;\r\n          margin-bottom: 5px;\r\n        }\r\n\r\n        .stat-label {\r\n          font-size: 0.9rem;\r\n          opacity: 0.8;\r\n        }\r\n\r\n        .tabs-container {\r\n          background: white;\r\n          border-radius: 20px;\r\n          overflow: hidden;\r\n          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\r\n          margin-bottom: 30px;\r\n        }\r\n\r\n        .tabs-header {\r\n          display: flex;\r\n          background: #f8fafc;\r\n          border-bottom: 2px solid #e2e8f0;\r\n        }\r\n\r\n        .tab {\r\n          padding: 20px 30px;\r\n          background: none;\r\n          border: none;\r\n          font-weight: 600;\r\n          color: #718096;\r\n          cursor: pointer;\r\n          transition: all 0.3s ease;\r\n          position: relative;\r\n        }\r\n\r\n        .tab.active {\r\n          color: #667eea;\r\n        }\r\n\r\n        .tab.active::after {\r\n          content: '';\r\n          position: absolute;\r\n          bottom: -2px;\r\n          left: 0;\r\n          right: 0;\r\n          height: 3px;\r\n          background: linear-gradient(135deg, #667eea, #764ba2);\r\n        }\r\n\r\n        .tab:hover {\r\n          color: #667eea;\r\n          background: rgba(102, 126, 234, 0.05);\r\n        }\r\n\r\n        .tab-content {\r\n          padding: 30px;\r\n        }\r\n\r\n        .settlements-grid {\r\n          display: grid;\r\n          gap: 15px;\r\n        }\r\n\r\n        .settlement-card {\r\n          background: #f8fafc;\r\n          border-radius: 12px;\r\n          padding: 20px;\r\n          border-left: 4px solid #48bb78;\r\n          transition: all 0.3s ease;\r\n        }\r\n\r\n        .settlement-card:hover {\r\n          transform: translateX(5px);\r\n          background: #edf2f7;\r\n        }\r\n\r\n        .settlement-header {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          margin-bottom: 10px;\r\n        }\r\n\r\n        .settlement-users {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 10px;\r\n          font-weight: 600;\r\n          color: #2d3748;\r\n        }\r\n\r\n        .settlement-amount {\r\n          font-size: 1.2rem;\r\n          font-weight: 700;\r\n          color: #48bb78;\r\n        }\r\n\r\n        .settlement-actions {\r\n          margin-top: 15px;\r\n        }\r\n\r\n        .btn-settle {\r\n          background: #48bb78;\r\n          color: white;\r\n          padding: 8px 16px;\r\n          border-radius: 8px;\r\n          border: none;\r\n          cursor: pointer;\r\n          font-weight: 600;\r\n          transition: all 0.3s ease;\r\n        }\r\n\r\n        .btn-settle:hover {\r\n          background: #38a169;\r\n          transform: translateY(-1px);\r\n        }\r\n\r\n        .expenses-list {\r\n          display: grid;\r\n          gap: 20px;\r\n        }\r\n\r\n        .expense-card {\r\n          background: #f8fafc;\r\n          border-radius: 15px;\r\n          padding: 25px;\r\n          border-left: 4px solid #667eea;\r\n          transition: all 0.3s ease;\r\n        }\r\n\r\n        .expense-card:hover {\r\n          transform: translateY(-2px);\r\n          box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);\r\n        }\r\n\r\n        .expense-header {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: flex-start;\r\n          margin-bottom: 15px;\r\n        }\r\n\r\n        .expense-title {\r\n          font-size: 1.2rem;\r\n          font-weight: 600;\r\n          color: #2d3748;\r\n          margin: 0;\r\n        }\r\n\r\n        .expense-meta {\r\n          color: #718096;\r\n          font-size: 0.9rem;\r\n        }\r\n\r\n        .expense-amount {\r\n          font-size: 1.5rem;\r\n          font-weight: 700;\r\n          color: #667eea;\r\n        }\r\n\r\n        .splits-list {\r\n          margin-top: 15px;\r\n        }\r\n\r\n        .split-item {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          padding: 10px 0;\r\n          border-bottom: 1px solid #e2e8f0;\r\n        }\r\n\r\n        .split-item:last-child {\r\n          border-bottom: none;\r\n        }\r\n\r\n        .split-info {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 10px;\r\n        }\r\n\r\n        .split-status {\r\n          width: 8px;\r\n          height: 8px;\r\n          border-radius: 50%;\r\n        }\r\n\r\n        .status-paid {\r\n          background: #48bb78;\r\n        }\r\n\r\n        .status-pending {\r\n          background: #ed8936;\r\n        }\r\n\r\n        .split-actions {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 10px;\r\n        }\r\n\r\n        .btn-mark-paid {\r\n          background: #667eea;\r\n          color: white;\r\n          padding: 6px 12px;\r\n          border-radius: 6px;\r\n          border: none;\r\n          cursor: pointer;\r\n          font-size: 0.8rem;\r\n          font-weight: 600;\r\n          transition: all 0.3s ease;\r\n        }\r\n\r\n        .btn-mark-paid:hover {\r\n          background: #5a67d8;\r\n          transform: translateY(-1px);\r\n        }\r\n\r\n        .download-section {\r\n          background: white;\r\n          border-radius: 20px;\r\n          padding: 40px;\r\n          text-align: center;\r\n          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\r\n        }\r\n\r\n        .download-icon {\r\n          font-size: 3rem;\r\n          margin-bottom: 20px;\r\n          opacity: 0.7;\r\n        }\r\n\r\n        .download-title {\r\n          font-size: 1.5rem;\r\n          font-weight: 700;\r\n          color: #2d3748;\r\n          margin-bottom: 10px;\r\n        }\r\n\r\n        .download-description {\r\n          color: #718096;\r\n          margin-bottom: 25px;\r\n        }\r\n\r\n        .btn-download {\r\n          background: linear-gradient(135deg, #9f7aea, #805ad5);\r\n          color: white;\r\n          padding: 15px 30px;\r\n          border-radius: 12px;\r\n          border: none;\r\n          cursor: pointer;\r\n          font-weight: 600;\r\n          transition: all 0.3s ease;\r\n          display: inline-flex;\r\n          align-items: center;\r\n          gap: 10px;\r\n        }\r\n\r\n        .btn-download:hover:not(:disabled) {\r\n          transform: translateY(-2px);\r\n          box-shadow: 0 15px 30px rgba(159, 122, 234, 0.3);\r\n        }\r\n\r\n        .btn-download:disabled {\r\n          opacity: 0.6;\r\n          cursor: not-allowed;\r\n        }\r\n\r\n        .empty-state {\r\n          text-align: center;\r\n          padding: 60px 20px;\r\n          color: #a0aec0;\r\n        }\r\n\r\n        .empty-icon {\r\n          font-size: 4rem;\r\n          margin-bottom: 20px;\r\n          opacity: 0.5;\r\n        }\r\n\r\n        .empty-text {\r\n          font-size: 1.1rem;\r\n          margin-bottom: 10px;\r\n        }\r\n\r\n        .empty-subtext {\r\n          font-size: 0.9rem;\r\n          opacity: 0.7;\r\n        }\r\n\r\n        /* Modal Styles */\r\n        .modal-overlay {\r\n          position: fixed;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          background: rgba(0, 0, 0, 0.7);\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          z-index: 1000;\r\n          padding: 20px;\r\n          backdrop-filter: blur(5px);\r\n        }\r\n\r\n        .modal-content {\r\n          background: white;\r\n          border-radius: 20px;\r\n          padding: 40px;\r\n          max-width: 600px;\r\n          width: 100%;\r\n          max-height: 90vh;\r\n          overflow-y: auto;\r\n          box-shadow: 0 30px 60px rgba(0, 0, 0, 0.3);\r\n          animation: modalSlideIn 0.3s ease-out;\r\n        }\r\n\r\n        .modal-header {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          margin-bottom: 30px;\r\n        }\r\n\r\n        .modal-title {\r\n          font-size: 1.5rem;\r\n          font-weight: 700;\r\n          color: #2d3748;\r\n          margin: 0;\r\n        }\r\n\r\n        .close-button {\r\n          background: none;\r\n          border: none;\r\n          font-size: 1.5rem;\r\n          color: #a0aec0;\r\n          cursor: pointer;\r\n          transition: color 0.3s ease;\r\n        }\r\n\r\n        .close-button:hover {\r\n          color: #718096;\r\n        }\r\n\r\n        .form-group {\r\n          margin-bottom: 25px;\r\n        }\r\n\r\n        .form-label {\r\n          display: block;\r\n          margin-bottom: 8px;\r\n          font-weight: 600;\r\n          color: #4a5568;\r\n        }\r\n\r\n        .form-input {\r\n          width: 100%;\r\n          padding: 15px;\r\n          border: 2px solid #e2e8f0;\r\n          border-radius: 12px;\r\n          font-size: 1rem;\r\n          transition: all 0.3s ease;\r\n        }\r\n\r\n        .form-input:focus {\r\n          outline: none;\r\n          border-color: #667eea;\r\n          box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\r\n        }\r\n\r\n        .split-options {\r\n          background: #f8fafc;\r\n          padding: 20px;\r\n          border-radius: 12px;\r\n          margin-top: 20px;\r\n        }\r\n\r\n        .member-percentage {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          padding: 12px;\r\n          background: white;\r\n          border-radius: 8px;\r\n          margin-bottom: 10px;\r\n        }\r\n\r\n        .percentage-input {\r\n          width: 80px;\r\n          padding: 8px;\r\n          border: 2px solid #e2e8f0;\r\n          border-radius: 6px;\r\n          text-align: center;\r\n        }\r\n\r\n        .percentage-summary {\r\n          background: white;\r\n          padding: 15px;\r\n          border-radius: 8px;\r\n          margin-top: 15px;\r\n          text-align: center;\r\n          font-weight: 600;\r\n        }\r\n\r\n        .percentage-valid {\r\n          color: #48bb78;\r\n        }\r\n\r\n        .percentage-invalid {\r\n          color: #f56565;\r\n        }\r\n\r\n        .modal-actions {\r\n          display: flex;\r\n          gap: 15px;\r\n          justify-content: flex-end;\r\n          margin-top: 30px;\r\n          padding-top: 20px;\r\n          border-top: 2px solid #f7fafc;\r\n        }\r\n\r\n        .btn-cancel {\r\n          background: #e2e8f0;\r\n          color: #4a5568;\r\n          padding: 12px 24px;\r\n          border-radius: 12px;\r\n          border: none;\r\n          cursor: pointer;\r\n          font-weight: 600;\r\n          transition: all 0.3s ease;\r\n        }\r\n\r\n        .btn-cancel:hover {\r\n          background: #cbd5e0;\r\n        }\r\n\r\n        .btn-submit {\r\n          background: linear-gradient(135deg, #667eea, #764ba2);\r\n          color: white;\r\n          padding: 12px 24px;\r\n          border-radius: 12px;\r\n          border: none;\r\n          cursor: pointer;\r\n          font-weight: 600;\r\n          transition: all 0.3s ease;\r\n        }\r\n\r\n        .btn-submit:hover:not(:disabled) {\r\n          transform: translateY(-2px);\r\n          box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);\r\n        }\r\n\r\n        .btn-submit:disabled {\r\n          opacity: 0.6;\r\n          cursor: not-allowed;\r\n        }\r\n\r\n        .reports-loading {\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          justify-content: center;\r\n          min-height: 50vh;\r\n          color: white;\r\n        }\r\n\r\n        .loading-spinner {\r\n          width: 50px;\r\n          height: 50px;\r\n          border: 4px solid rgba(255, 255, 255, 0.3);\r\n          border-top: 4px solid white;\r\n          border-radius: 50%;\r\n          animation: spin 1s linear infinite;\r\n          margin-bottom: 20px;\r\n        }\r\n\r\n        .success-message {\r\n          background: #c6f6d5;\r\n          color: #22543d;\r\n          padding: 20px;\r\n          border-radius: 12px;\r\n          margin-bottom: 30px;\r\n          border-left: 4px solid #48bb78;\r\n          animation: slideDown 0.3s ease-out;\r\n        }\r\n\r\n        .error-message {\r\n          background: #fed7d7;\r\n          color: #c53030;\r\n          padding: 20px;\r\n          border-radius: 12px;\r\n          margin-bottom: 30px;\r\n          border-left: 4px solid #f56565;\r\n          animation: shake 0.5s ease-in-out;\r\n        }\r\n\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n\r\n        @keyframes slideDown {\r\n          from {\r\n            opacity: 0;\r\n            transform: translateY(-20px);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: translateY(0);\r\n          }\r\n        }\r\n\r\n        @keyframes modalSlideIn {\r\n          from {\r\n            opacity: 0;\r\n            transform: scale(0.9) translateY(-20px);\r\n          }\r\n          to {\r\n            opacity: 1;\r\n            transform: scale(1) translateY(0);\r\n          }\r\n        }\r\n\r\n        @keyframes shake {\r\n          0%, 100% { transform: translateX(0); }\r\n          25% { transform: translateX(-5px); }\r\n          75% { transform: translateX(5px); }\r\n        }\r\n\r\n        @media (max-width: 768px) {\r\n          .reports-header {\r\n            flex-direction: column;\r\n            gap: 20px;\r\n          }\r\n\r\n          .header-actions {\r\n            width: 100%;\r\n            justify-content: center;\r\n          }\r\n\r\n          .stats-grid {\r\n            grid-template-columns: 1fr;\r\n          }\r\n\r\n          .tabs-header {\r\n            flex-direction: column;\r\n          }\r\n\r\n          .tab {\r\n            text-align: center;\r\n          }\r\n        }\r\n      `}</style>\r\n\r\n      <div className=\"reports-content\">\r\n        {/* Success Message */}\r\n        {success && (\r\n          <div className=\"success-message\">\r\n            <strong>Success:</strong> {success}\r\n          </div>\r\n        )}\r\n\r\n        {/* Error Message */}\r\n        {error && (\r\n          <div className=\"error-message\">\r\n            <strong>Error:</strong> {error}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"reports-header\">\r\n          <div className=\"header-info\">\r\n            <h1>Expense Report</h1>\r\n            <p>\r\n              {members.length} members â€¢ {expenses.length} expenses â€¢ {isGroupCreator() && 'You are the group creator'}\r\n            </p>\r\n          </div>\r\n          <div className=\"header-actions\">\r\n            {isGroupCreator() && (\r\n              <button\r\n                onClick={() => setShowAddMemberModal(true)}\r\n                className=\"btn-primary\"\r\n              >\r\n                + Add Members\r\n              </button>\r\n            )}\r\n            <button\r\n              onClick={() => {\r\n                if (members.length === 0) {\r\n                  setError('No members found in this group. Please add members first.');\r\n                } else {\r\n                  setShowAddExpense(true);\r\n                }\r\n              }}\r\n              className=\"btn-secondary\"\r\n            >\r\n              + Add Expense\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Statistics Cards */}\r\n        <div className=\"stats-grid\">\r\n          <div className=\"stat-card\">\r\n            <div className=\"stat-value\">â‚¹{totalSpent.toFixed(2)}</div>\r\n            <div className=\"stat-label\">Total Spent</div>\r\n          </div>\r\n          <div className=\"stat-card\">\r\n            <div className=\"stat-value\">{expenses.length}</div>\r\n            <div className=\"stat-label\">Total Expenses</div>\r\n          </div>\r\n          <div className=\"stat-card\">\r\n            <div className=\"stat-value\">{members.length}</div>\r\n            <div className=\"stat-label\">Group Members</div>\r\n          </div>\r\n          <div className=\"stat-card\">\r\n            <div className=\"stat-value\">â‚¹{(totalSpent / (members.length || 1)).toFixed(2)}</div>\r\n            <div className=\"stat-label\">Average per Member</div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tabs Container */}\r\n        <div className=\"tabs-container\">\r\n          <div className=\"tabs-header\">\r\n            <button\r\n              className={`tab ${activeTab === 'settlements' ? 'active' : ''}`}\r\n              onClick={() => setActiveTab('settlements')}\r\n            >\r\n              Settlement Summary\r\n            </button>\r\n            <button\r\n              className={`tab ${activeTab === 'expenses' ? 'active' : ''}`}\r\n              onClick={() => setActiveTab('expenses')}\r\n            >\r\n              All Expenses ({expenses.length})\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"tab-content\">\r\n            {activeTab === 'settlements' && (\r\n              <div className=\"settlements-content\">\r\n                <h3 style={{marginBottom: '20px', color: '#2d3748'}}>Who needs to pay whom</h3>\r\n                {report && report.settlements && report.settlements.length > 0 ? (\r\n                  <div className=\"settlements-grid\">\r\n                    {report.settlements.map((settlement, index) => (\r\n                      <div key={index} className=\"settlement-card\">\r\n                        <div className=\"settlement-header\">\r\n                          <div className=\"settlement-users\">\r\n                            <span>\r\n                              {settlement.from?.name || 'Unknown User'}\r\n                              {settlement.from && compareIds(settlement.from._id, user.id) && (\r\n                                <span style={{color: '#ed8936', marginLeft: '5px'}}>(You)</span>\r\n                              )}\r\n                            </span>\r\n                            <span style={{color: '#a0aec0'}}>â†’</span>\r\n                            <span>\r\n                              {settlement.to?.name || 'Unknown User'}\r\n                              {settlement.to && compareIds(settlement.to._id, user.id) && (\r\n                                <span style={{color: '#4299e1', marginLeft: '5px'}}>(You)</span>\r\n                              )}\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"settlement-amount\">\r\n                            â‚¹{settlement.amount?.toFixed(2) || '0.00'}\r\n                          </div>\r\n                        </div>\r\n                        {isCurrentUserDebtor(settlement) && (\r\n                          <div className=\"settlement-actions\">\r\n                            <button\r\n                              onClick={() => handleSettlePayment(\r\n                                settlement.from?._id, \r\n                                settlement.to?._id, \r\n                                settlement.amount\r\n                              )}\r\n                              className=\"btn-settle\"\r\n                            >\r\n                              Mark as Settled\r\n                            </button>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"empty-state\">\r\n                    <div className=\"empty-icon\">ðŸŽ‰</div>\r\n                    <div className=\"empty-text\">All expenses are settled!</div>\r\n                    <div className=\"empty-subtext\">No pending payments between members</div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {activeTab === 'expenses' && (\r\n              <div className=\"expenses-content\">\r\n                <h3 style={{marginBottom: '20px', color: '#2d3748'}}>All Group Expenses</h3>\r\n                {expenses.length > 0 ? (\r\n                  <div className=\"expenses-list\">\r\n                    {expenses.map((expense) => {\r\n                      const validSplits = getValidSplits(expense);\r\n                      return (\r\n                        <div key={expense._id} className=\"expense-card\">\r\n                          <div className=\"expense-header\">\r\n                            <div>\r\n                              <h4 className=\"expense-title\">{expense.description}</h4>\r\n                              <p className=\"expense-meta\">\r\n                                Paid by {expense.paidBy?.name || 'Unknown User'}\r\n                                {expense.paidBy && compareIds(expense.paidBy._id, user.id) && (\r\n                                  <span style={{color: '#4299e1', marginLeft: '5px'}}>(You paid)</span>\r\n                                )}\r\n                                â€¢ {expense.splitType} split\r\n                              </p>\r\n                            </div>\r\n                            <div className=\"expense-amount\">\r\n                              â‚¹{expense.amount}\r\n                            </div>\r\n                          </div>\r\n                          \r\n                          {validSplits.length > 0 && (\r\n                            <div className=\"splits-list\">\r\n                              {validSplits.map((split, index) => (\r\n                                <div key={index} className=\"split-item\">\r\n                                  <div className=\"split-info\">\r\n                                    <div className={`split-status ${split.paid ? 'status-paid' : 'status-pending'}`}></div>\r\n                                    <span>\r\n                                      {split.user?.name || 'Unknown User'}\r\n                                      {split.user && compareIds(split.user._id, user.id) && (\r\n                                        <span style={{color: '#ed8936', marginLeft: '5px'}}>(You)</span>\r\n                                      )}\r\n                                    </span>\r\n                                  </div>\r\n                                  <div className=\"split-actions\">\r\n                                    <span style={{fontWeight: '600', color: split.paid ? '#48bb78' : '#718096'}}>\r\n                                      â‚¹{split.amount?.toFixed(2) || '0.00'}\r\n                                    </span>\r\n                                    {shouldShowMarkPaid(expense, split) && (\r\n                                      <button\r\n                                        onClick={() => handleMarkAsPaid(expense._id, split.user._id)}\r\n                                        className=\"btn-mark-paid\"\r\n                                      >\r\n                                        Mark Paid\r\n                                      </button>\r\n                                    )}\r\n                                  </div>\r\n                                </div>\r\n                              ))}\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"empty-state\">\r\n                    <div className=\"empty-icon\">ðŸ’¸</div>\r\n                    <div className=\"empty-text\">No expenses yet</div>\r\n                    <div className=\"empty-subtext\">Add your first expense to get started</div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Download Report Section */}\r\n        <div className=\"download-section\">\r\n          <div className=\"download-icon\">ðŸ“Š</div>\r\n          <h3 className=\"download-title\">Export Complete Report</h3>\r\n          <p className=\"download-description\">\r\n            Download a comprehensive text report with all expenses, settlements, and financial summaries\r\n          </p>\r\n          <button\r\n            onClick={downloadReport}\r\n            disabled={downloading}\r\n            className=\"btn-download\"\r\n          >\r\n            {downloading ? (\r\n              <>\r\n                <div className=\"loading-spinner\" style={{width: '20px', height: '20px', borderWidth: '2px'}}></div>\r\n                Generating Report...\r\n              </>\r\n            ) : (\r\n              <>\r\n                ðŸ“¥ Download Expense Report\r\n              </>\r\n            )}\r\n          </button>\r\n        </div>\r\n\r\n        {/* Add Expense Modal */}\r\n        {showAddExpense && (\r\n          <div className=\"modal-overlay\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h3 className=\"modal-title\">Add New Expense</h3>\r\n                <button\r\n                  onClick={resetExpenseForm}\r\n                  className=\"close-button\"\r\n                >\r\n                  Ã—\r\n                </button>\r\n              </div>\r\n              \r\n              <form onSubmit={handleAddExpense}>\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Description *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    required\r\n                    className=\"form-input\"\r\n                    placeholder=\"e.g., Dinner, Hotel, Taxi\"\r\n                    value={newExpense.description}\r\n                    onChange={(e) => setNewExpense({ ...newExpense, description: e.target.value })}\r\n                    disabled={addExpenseLoading}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Amount (â‚¹) *</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    step=\"0.01\"\r\n                    min=\"0.01\"\r\n                    required\r\n                    className=\"form-input\"\r\n                    placeholder=\"0.00\"\r\n                    value={newExpense.amount}\r\n                    onChange={(e) => setNewExpense({ ...newExpense, amount: e.target.value })}\r\n                    disabled={addExpenseLoading}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Split Type</label>\r\n                  <select\r\n                    className=\"form-input\"\r\n                    value={newExpense.splitType}\r\n                    onChange={(e) => handleSplitTypeChange(e.target.value)}\r\n                    disabled={addExpenseLoading || members.length === 0}\r\n                  >\r\n                    <option value=\"equal\">Equal Split</option>\r\n                    <option value=\"custom\" disabled={members.length === 0}>\r\n                      Custom Split by Percentage {members.length === 0 && '(No members)'}\r\n                    </option>\r\n                  </select>\r\n                  {members.length === 0 && (\r\n                    <p style={{color: '#f56565', fontSize: '0.8rem', marginTop: '5px'}}>\r\n                      No members found. Please add members to the group first.\r\n                    </p>\r\n                  )}\r\n                </div>\r\n\r\n                {newExpense.splitType === 'custom' && (\r\n                  <div className=\"split-options\">\r\n                    <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '15px'}}>\r\n                      <label className=\"form-label\">Split Percentages *</label>\r\n                      <div style={{display: 'flex', gap: '10px'}}>\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={handleEqualSplit}\r\n                          style={{\r\n                            background: '#667eea',\r\n                            color: 'white',\r\n                            padding: '8px 12px',\r\n                            border: 'none',\r\n                            borderRadius: '6px',\r\n                            fontSize: '0.8rem',\r\n                            cursor: 'pointer'\r\n                          }}\r\n                        >\r\n                          Equal Split\r\n                        </button>\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={handleClearPercentages}\r\n                          style={{\r\n                            background: '#e2e8f0',\r\n                            color: '#4a5568',\r\n                            padding: '8px 12px',\r\n                            border: 'none',\r\n                            borderRadius: '6px',\r\n                            fontSize: '0.8rem',\r\n                            cursor: 'pointer'\r\n                          }}\r\n                        >\r\n                          Clear All\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {members && members.length > 0 ? (\r\n                      <>\r\n                        {members.map((member) => (\r\n                          <div key={member._id} className=\"member-percentage\">\r\n                            <span>\r\n                              {member.name}\r\n                              {compareIds(member._id, user.id) && (\r\n                                <span style={{color: '#667eea', marginLeft: '5px'}}>(You)</span>\r\n                              )}\r\n                            </span>\r\n                            <div style={{display: 'flex', alignItems: 'center', gap: '10px'}}>\r\n                              <span style={{fontSize: '0.8rem', color: '#718096'}}>\r\n                                â‚¹{calculateMemberAmount(customPercentages[member._id]).toFixed(2)}\r\n                              </span>\r\n                              <input\r\n                                type=\"text\"\r\n                                inputMode=\"decimal\"\r\n                                className=\"percentage-input\"\r\n                                placeholder=\"0.00\"\r\n                                value={customPercentages[member._id] || ''}\r\n                                onChange={(e) => handleCustomPercentageChange(member._id, e.target.value)}\r\n                                disabled={addExpenseLoading}\r\n                              />\r\n                              <span style={{color: '#718096'}}>%</span>\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n\r\n                        <div className={`percentage-summary ${validateCustomPercentages() ? 'percentage-valid' : 'percentage-invalid'}`}>\r\n                          Total: {getTotalPercentage().toFixed(2)}% \r\n                          {validateCustomPercentages() ? ' âœ“ Ready' : ` âœ— Need ${getRemainingPercentage()}% more`}\r\n                        </div>\r\n                      </>\r\n                    ) : (\r\n                      <div style={{textAlign: 'center', color: '#718096', padding: '20px'}}>\r\n                        No members found in this group\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"modal-actions\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={resetExpenseForm}\r\n                    disabled={addExpenseLoading}\r\n                    className=\"btn-cancel\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    type=\"submit\"\r\n                    disabled={addExpenseLoading || (newExpense.splitType === 'custom' && !validateCustomPercentages())}\r\n                    className=\"btn-submit\"\r\n                  >\r\n                    {addExpenseLoading ? 'Adding Expense...' : 'Add Expense'}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Add Members Modal */}\r\n        {showAddMemberModal && (\r\n          <div className=\"modal-overlay\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h3 className=\"modal-title\">Add Members to Group</h3>\r\n                <button\r\n                  onClick={resetMemberForm}\r\n                  className=\"close-button\"\r\n                >\r\n                  Ã—\r\n                </button>\r\n              </div>\r\n              \r\n              <form onSubmit={handleAddMembers}>\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Invite Members by Email</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-input\"\r\n                    placeholder=\"Search by email...\"\r\n                    value={searchQuery}\r\n                    onChange={(e) => {\r\n                      setSearchQuery(e.target.value);\r\n                      handleSearchUsers(e.target.value);\r\n                    }}\r\n                    disabled={addMemberLoading}\r\n                  />\r\n                  \r\n                  {searchResults.length > 0 && (\r\n                    <div style={{\r\n                      marginTop: '10px',\r\n                      border: '2px solid #e2e8f0',\r\n                      borderRadius: '8px',\r\n                      maxHeight: '150px',\r\n                      overflowY: 'auto'\r\n                    }}>\r\n                      {searchResults.map((user) => (\r\n                        <div\r\n                          key={user._id}\r\n                          style={{\r\n                            padding: '12px 15px',\r\n                            cursor: 'pointer',\r\n                            borderBottom: '1px solid #f7fafc',\r\n                            transition: 'background 0.3s ease'\r\n                          }}\r\n                          onClick={() => addMemberEmail(user.email)}\r\n                        >\r\n                          {user.name} ({user.email})\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n\r\n                  {newMemberEmails.length > 0 && (\r\n                    <div style={{marginTop: '15px', display: 'flex', flexWrap: 'wrap', gap: '8px'}}>\r\n                      {newMemberEmails.map((email) => (\r\n                        <span\r\n                          key={email}\r\n                          style={{\r\n                            background: 'linear-gradient(135deg, #48bb78, #38a169)',\r\n                            color: 'white',\r\n                            padding: '6px 12px',\r\n                            borderRadius: '20px',\r\n                            fontSize: '0.8rem',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            gap: '6px'\r\n                          }}\r\n                        >\r\n                          {email}\r\n                          <button\r\n                            type=\"button\"\r\n                            style={{\r\n                              background: 'none',\r\n                              border: 'none',\r\n                              color: 'white',\r\n                              cursor: 'pointer',\r\n                              fontSize: '1rem',\r\n                              padding: '0'\r\n                            }}\r\n                            onClick={() => removeMemberEmail(email)}\r\n                            disabled={addMemberLoading}\r\n                          >\r\n                            Ã—\r\n                          </button>\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"modal-actions\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={resetMemberForm}\r\n                    disabled={addMemberLoading}\r\n                    className=\"btn-cancel\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                  <button\r\n                    type=\"submit\"\r\n                    disabled={addMemberLoading || newMemberEmails.length === 0}\r\n                    className=\"btn-submit\"\r\n                  >\r\n                    {addMemberLoading ? 'Adding Members...' : 'Add Members'}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReportsPage;"],"mappings":"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CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;EAEhG,oBACEtB,OAAA;IAAKkN,SAAS,EAAC,mBAAmB;IAAAC,QAAA,gBAChCnN,OAAA;MAAOyN,GAAG;MAAAN,QAAA,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAEVvN,OAAA;MAAKkN,SAAS,EAAC,iBAAiB;MAAAC,QAAA,GAE7B/K,OAAO,iBACNpC,OAAA;QAAKkN,SAAS,EAAC,iBAAiB;QAAAC,QAAA,gBAC9BnN,OAAA;UAAAmN,QAAA,EAAQ;QAAQ;UAAAC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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}